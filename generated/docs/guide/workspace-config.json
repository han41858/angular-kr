{
  "id": "guide/workspace-config",
  "title": "Angular Workspace Configuration",
  "contents": "\n\n\n  <div class=\"github-links\">\n    <a href=\"https://github.com/angular/angular/edit/master/aio/content/guide/workspace-config.md?message=docs%3A%20describe%20your%20change...\" aria-label=\"Suggest Edits\" title=\"Suggest Edits\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  </div>\n\n\n<div class=\"content\">\n<h1 id=\"angular-workspace-configuration\">Angular Workspace Configuration<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#angular-workspace-configuration\"><i class=\"material-icons\">link</i></a></h1>\n<p>A file named <code>angular.json</code> at the root level of an Angular <a href=\"guide/glossary#workspace\">workspace</a> provides workspace-wide and project-specific configuration defaults for build and development tools provided by the Angular CLI.\nPath values given in the configuration are relative to the root workspace folder. </p>\n<h2 id=\"overall-json-structure\">Overall JSON structure<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#overall-json-structure\"><i class=\"material-icons\">link</i></a></h2>\n<p>At the top level of <code>angular.json</code>, a few properties configure the workspace, and a <code>projects</code> section contains the remaining per-project configuration options. </p>\n<ul>\n<li><code>version</code>: The configuration-file version.</li>\n<li><code>newProjectRoot</code>: Path where new projects are created. Absolute or relative to the workspace folder.</li>\n<li><code>defaultProject</code>: Default project name to use in commands, where not provided as an argument. When you use <code>ng new</code> to create a new app in a new workspace, that app is the default project for the workspace until you change it here.</li>\n<li><code>projects</code> : Contains a subsection for each project (library, app, e2e test app) in the workspace, with the per-project configuration options. </li>\n</ul>\n<p>The initial app that you create with <code>ng new app_name</code> is listed under \"projects\", along with its corresponding end-to-end test app: </p>\n<code-example format=\".\" language=\"none\" linenums=\"false\">\nprojects\n  app_name\n    ...\n  app_name-e2e\n    ...\n</code-example>\n<p>Each additional app that you create with <code>ng generate application</code> has a corresponding end-to-end test project, with its own configuration section.\nWhen you create a library project with <code>ng generate library</code>, the library project is also added to the <code>projects</code> section. </p>\n<div class=\"alert is-helpful\">\n<p>  Note that the <code>projects</code> section of the configuration file does not correspond exactly to the workspace file structure. </p>\n<ul>\n<li>\n<p>The initial app created by <code>ng new</code> is at the top level of the workspace file structure, along with its e2e app.</p>\n</li>\n<li>\n<p>Additional apps, e2e apps, and libraries go into a <code>projects</code> folder in the workspace.</p>\n<p>For more information, see <a href=\"guide/file-structure\">Workspace and project file structure</a>.</p>\n</li>\n</ul>\n</div>\n<h2 id=\"project-configuration-options\">Project configuration options<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#project-configuration-options\"><i class=\"material-icons\">link</i></a></h2>\n<p>The following top-level configuration properties are available for each project, under <code>projects:&#x3C;project_name></code>.</p>\n<code-example format=\".\" language=\"json\" linenums=\"false\">\n    \"my-v7-app\": {\n      \"root\": \"\",\n      \"sourceRoot\": \"src\",\n      \"projectType\": \"application\",\n      \"prefix\": \"app\",\n      \"schematics\": {},\n      \"architect\": {}\n    }\n</code-example>\n<table>\n<thead>\n<tr>\n<th align=\"left\">PROPERTY</th>\n<th align=\"left\">DESCRIPTION</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>root</code></td>\n<td align=\"left\">The root folder for this project's files, relative to the workspace folder. Empty for the initial app, which resides at the top level of the workspace.</td>\n</tr>\n<tr>\n<td align=\"left\"><code>sourceRoot</code></td>\n<td align=\"left\">The root folder for this project's source files.</td>\n</tr>\n<tr>\n<td align=\"left\"><code>projectType</code></td>\n<td align=\"left\">One of \"application\" or \"library\". An application can run independently in a browser, while a library cannot. Both an app and its e2e test app are of type \"application\".</td>\n</tr>\n<tr>\n<td align=\"left\"><code>prefix</code></td>\n<td align=\"left\">A string that Angular prepends to generated selectors. Can be customized to identify an app or feature area.</td>\n</tr>\n<tr>\n<td align=\"left\"><code>schematics</code></td>\n<td align=\"left\">An object containing schematics that customize CLI commands for this project.</td>\n</tr>\n<tr>\n<td align=\"left\"><code>architect</code></td>\n<td align=\"left\">An object containing configuration defaults for Architect builder targets for this project.</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"project-tool-configuration-options\">Project tool configuration options<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#project-tool-configuration-options\"><i class=\"material-icons\">link</i></a></h2>\n<p>Architect is the tool that the CLI uses to perform complex tasks such as compilation and test running, according to provided configurations. The <code>architect</code> section contains a set of Architect <em>targets</em>. Many of the targets correspond to the CLI commands that run them. Some additional predefined targets can be run using the <code>ng run</code> command, and you can define your own targets.</p>\n<p>Each target object specifies the <code>builder</code> for that target, which is the npm package for the tool that Architect runs. In addition, each target has an <code>options</code> section that configure default options for the target, and a <code>configurations</code> section that names and specifies alternative configurations for the target. See the example in <a href=\"guide/workspace-config#build-target\">Build target</a> below. </p>\n<code-example format=\".\" language=\"json\" linenums=\"false\">\n      \"architect\": {\n        \"build\": { },\n        \"serve\": { },\n        \"e2e\" : { },\n        \"test\": { },\n        \"lint\": { },\n        \"extract-i18n\": { },\n        \"server\": { },\n        \"app-shell\": { }\n      }\n</code-example>\n<ul>\n<li>\n<p>The <code>architect/build</code> section configures defaults for options of the <code>ng build</code> command. See <a href=\"guide/workspace-config#build-target\">Build target</a> below for more information.</p>\n</li>\n<li>\n<p>The <code>architect/serve</code> section overrides build defaults and supplies additional serve defaults for the <code>ng serve</code> command.  In addition to the options available for the <code>ng build</code> command, it adds options related to serving the app.</p>\n</li>\n<li>\n<p>The <code>architect/e2e</code> section overrides build-option defaults for building end-to-end testing apps using the <code>ng e2e</code> command.</p>\n</li>\n<li>\n<p>The <code>architect/test</code> section overrides build-option defaults for test builds and supplies additional test-running defaults for the <code>ng test</code> command.</p>\n</li>\n<li>\n<p>The <code>architect/lint</code> section configures defaults for options of the <code>ng lint</code> command, which performs code analysis on project source files.  The default linting tool for Angular is <a href=\"https://palantir.github.io/tslint/\">TSLint</a>.</p>\n</li>\n<li>\n<p>The <code>architect/extract-i18n</code> section configures defaults for options of the <code>ng-xi18n</code> tool used by the <code>ng xi18n</code> command, which extracts marked message strings from source code and outputs translation files.</p>\n</li>\n<li>\n<p>The <code>architect/server</code> section configures defaults for creating a Universal app with server-side rendering, using the <code>ng run &#x3C;project>:server</code> command. </p>\n</li>\n<li>\n<p>The <code>architect/app-shell</code> section configures defaults for creating an app shell for a progressive web app (PWA), using the <code>ng run &#x3C;project>:app-shell</code> command.</p>\n</li>\n</ul>\n<p>In general, the options for which you can configure defaults correspond to the command options listed in the <a href=\"cli\">CLI reference page</a> for each command.\nNote that all options in the configuration file must use <a href=\"guide/glossary#case-conventions\">camelCase</a>, rather than dash-case.</p>\n<a id=\"build-target\"></a>\n<h2 id=\"build-target\">Build target<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#build-target\"><i class=\"material-icons\">link</i></a></h2>\n<p>The <code>architect/build</code> section configures defaults for options of the <code>ng build</code> command. It has the following top-level properties.</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">PROPERTY</th>\n<th align=\"left\">DESCRIPTION</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>builder</code></td>\n<td align=\"left\">The npm package for the build tool used to create this target. The default is <code>@angular-devkit/build-angular:<a href=\"api/animations/browser\" class=\"code-anchor\">browser</a></code>, which uses the <a href=\"https://webpack.js.org/\">webpack</a> package bundler.</td>\n</tr>\n<tr>\n<td align=\"left\"><code>options</code></td>\n<td align=\"left\">This section contains defaults for build options, used when no named alternative configuration is specified. See <a href=\"guide/workspace-config#build-props\">Default build options</a> below.</td>\n</tr>\n<tr>\n<td align=\"left\"><code>configurations</code></td>\n<td align=\"left\">This section defines and names alternative configurations for different intended destinations. It contains a section for each named configuration, which sets the default options for that intended environment. See <a href=\"guide/workspace-config#build-configs\">Alternate build configurations</a> below.</td>\n</tr>\n</tbody>\n</table>\n<a id=\"build-configs\"></a>\n<h3 id=\"alternate-build-configurations\">Alternate build configurations<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#alternate-build-configurations\"><i class=\"material-icons\">link</i></a></h3>\n<p>By default, a <code>production</code> configuration is defined, and the <code>ng build</code> command has <code>--prod</code> option that builds using this configuration. The <code>production</code> configuration sets defaults that optimize the app in a number of ways, such bundling files, minimizing excess whitespace, removing comments and dead code, and rewriting code to use short, cryptic names (\"minification\"). </p>\n<p>You can define and name additional alternate configurations (such as <code>stage</code>, for instance) appropriate to your development process. Some examples of different build configurations are <code>stable</code>, <code>archive</code> and <code>next</code> used by AIO itself, and the individual locale-specific configurations required for building localized versions of an app. For details, see <a href=\"guide/i18n#merge-aot\">Internationalization (i18n)</a>. </p>\n<a id=\"build-props\"></a>\n<h3 id=\"additional-build-and-test-options\">Additional build and test options<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/workspace-config#additional-build-and-test-options\"><i class=\"material-icons\">link</i></a></h3>\n<p>The configurable options for a default or targeted build generally correspond to the options available for the <a href=\"cli/build\"><code>ng build</code></a>, <a href=\"cli/serve\"><code>ng serve</code></a>, and <a href=\"cli/test\"><code>ng test</code></a> commands. For details of those options and their possible values, see the <a href=\"cli\">CLI Reference</a>. </p>\n<p>Some additional options (listed below) can only be set through the configuration file, either by direct editing or with the <code>ng <a href=\"api/router/Router#config\" class=\"code-anchor\">config</a></code> command.</p>\n<table>\n<thead>\n<tr>\n<th align=\"left\">OPTIONS PROPERTIES</th>\n<th align=\"left\">DESCRIPTION</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\"><code>fileReplacements</code></td>\n<td align=\"left\">An object containing files and their compile-time replacements.</td>\n</tr>\n<tr>\n<td align=\"left\"><code>stylePreprocessorOptions</code></td>\n<td align=\"left\">An object containing option-value pairs to pass to style preprocessors.</td>\n</tr>\n<tr>\n<td align=\"left\"><code>assets</code></td>\n<td align=\"left\">An object containing paths to static assets to add to the global context of the project. The default paths point to the project's icon file and its <code>assets</code> folder.</td>\n</tr>\n<tr>\n<td align=\"left\"><code>styles</code></td>\n<td align=\"left\">An object containing style files to add to the global context of the project. Angular CLI supports CSS imports and all major CSS preprocessors: <a href=\"http://sass-lang.com/\">sass/scss</a>, <a href=\"http://lesscss.org/\">less</a>, and <a href=\"http://stylus-lang.com/\">stylus</a>.</td>\n</tr>\n<tr>\n<td align=\"left\"><code>scripts</code></td>\n<td align=\"left\">An object containing JavaScript script files to add to the global context of the project. The scripts are loaded exactly as if you had added them in a <code>&#x3C;script></code> tag inside <code>index.html</code>.</td>\n</tr>\n<tr>\n<td align=\"left\"><code>budgets</code></td>\n<td align=\"left\">Default size-budget type and threshholds for all or parts of your app. You can configure the builder to report a warning or an error when the output reaches or exceeds a threshold size. See <a href=\"guide/build#configure-size-budgets\">Configure size budgets</a>. (Not available in <code>test</code> section.)</td>\n</tr>\n</tbody>\n</table>\n\n</div>\n\n<!-- links to this doc:\n - cli\n - cli/build\n - guide/file-structure\n - guide/using-libraries\n-->\n<!-- links from this doc:\n - api/animations/browser\n - api/router/Router#config\n - cli\n - cli/build\n - cli/serve\n - cli/test\n - guide/build#configure-size-budgets\n - guide/file-structure\n - guide/glossary#case-conventions\n - guide/glossary#workspace\n - guide/i18n#merge-aot\n - guide/workspace-config#additional-build-and-test-options\n - guide/workspace-config#alternate-build-configurations\n - guide/workspace-config#angular-workspace-configuration\n - guide/workspace-config#build-configs\n - guide/workspace-config#build-props\n - guide/workspace-config#build-target\n - guide/workspace-config#overall-json-structure\n - guide/workspace-config#project-configuration-options\n - guide/workspace-config#project-tool-configuration-options\n - http://lesscss.org/\n - http://sass-lang.com/\n - http://stylus-lang.com/\n - https://github.com/angular/angular/edit/master/aio/content/guide/workspace-config.md?message=docs%3A%20describe%20your%20change...\n - https://palantir.github.io/tslint/\n - https://webpack.js.org/\n-->"
}