{
  "id": "guide/using-libraries",
  "title": "Using Published Libraries",
  "contents": "\n\n\n  <div class=\"github-links\">\n    <a href=\"https://github.com/angular/angular/edit/master/aio/content/guide/using-libraries.md?message=docs%3A%20describe%20your%20change...\" aria-label=\"Suggest Edits\" title=\"Suggest Edits\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  </div>\n\n\n<div class=\"content\">\n<h1 id=\"using-published-libraries\">Using Published Libraries<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/using-libraries#using-published-libraries\"><i class=\"material-icons\">link</i></a></h1>\n<p>When building Angular applications you can take advantage of sophisticated first-party libraries, such as <a href=\"https://material.angular.io/\">Angular Material</a>, as well as rich ecosystem of third-party libraries.\nSee the <a href=\"https://angular.io/resources\">Angular Resources</a> page for links to the most popular ones.</p>\n<h2 id=\"installing-libraries\">Installing libraries<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/using-libraries#installing-libraries\"><i class=\"material-icons\">link</i></a></h2>\n<p>Libraries are published as <a href=\"guide/npm-packages\">npm packages</a>, usually together with schematics that integrate them with the Angular CLI.\nTo integrate reusable library code into an application, you need to install the package and import the provided functionality where you will use it. For most published Angular libraries, you can use the Angular CLI <code>ng add &#x3C;lib_name></code> command.</p>\n<p>The <code>ng add</code> command uses the npm package manager or <a href=\"https://yarnpkg.com/\">yarn</a> to install the library package, and invokes schematics that are included in the package to other scaffolding within the project code, such as adding import statements, fonts, themes, and so on.</p>\n<p>A published library typically provides a README or other documentation on how to add that lib to your app.\nFor an example, see <a href=\"https://material.angular.io/\">Angular Material</a> docs.</p>\n<h3 id=\"library-typings\">Library typings<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/using-libraries#library-typings\"><i class=\"material-icons\">link</i></a></h3>\n<p>Library packages often include typings in <code>.d.ts</code> files; see examples in <code>node_modules/@angular/material</code>. If your library's package does not include typings and your IDE complains, you may need to install the library's associated <code>@types/&#x3C;lib_name></code> package.</p>\n<p>For example, suppose you have a library named <code>d3</code>:</p>\n<code-example format=\".\" language=\"bash\">\nnpm install d3 --save\nnpm install @types/d3 --save-dev\n</code-example>\n<p>Types defined in a <code>@types/</code> package for a library installed into the workspace are automatically added to the TypeScript configuration for the project that uses that library.\nTypeScript looks for types in the <code>node_modules/@types</code> folder by default, so you don't have to add each type package individually.</p>\n<p>If a library doesn't have typings available at <code>@types/</code>, you can still use it by manually adding typings for it.\nTo do this:</p>\n<ol>\n<li>\n<p>Create a <code>typings.d.ts</code> file in your <code>src/</code> folder. This file is automatically included as global type definition.</p>\n</li>\n<li>\n<p>Add the following code in <code>src/typings.d.ts</code>.</p>\n</li>\n</ol>\n<code-example>\ndeclare module '<a href=\"api/core/Directive#host\" class=\"code-anchor\">host</a>' {\n  export interface <a href=\"api/core/Host\" class=\"code-anchor\">Host</a> {\n    protocol?: string;\n    hostname?: string;\n    pathname?: string;\n  }\n  export function parse(url: string, queryString?: string): <a href=\"api/core/Host\" class=\"code-anchor\">Host</a>;\n}\n</code-example>\n<ol start=\"3\">\n<li>In the component or file that uses the library, add the following code.</li>\n</ol>\n<code-example>\nimport * as <a href=\"api/core/Directive#host\" class=\"code-anchor\">host</a> from '<a href=\"api/core/Directive#host\" class=\"code-anchor\">host</a>';\nconst parsedUrl = host.parse('https://angular.io');\nconsole.log(parsedUrl.hostname);\n</code-example>\n<p>You can define more typings as needed.</p>\n<h2 id=\"updating-libraries\">Updating libraries<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/using-libraries#updating-libraries\"><i class=\"material-icons\">link</i></a></h2>\n<p>Libraries can be updated by their publishers, and also have their own dependencies which need to be kept current.\nTo check for updates to your installed libraries, use the <a href=\"cli/update\"><code>ng update</code> command</a>.</p>\n<p>Use <code>ng <a href=\"api/forms/NgModel#update\" class=\"code-anchor\">update</a> &#x3C;lib_name></code> to update individual library versions. The Angular CLI checks the latest published release of the library, and if the latest version is newer than your installed version, downloads it and updates your <code>package.json</code> to match the latest version.</p>\n<p>When you update Angular to a new version, you need to make sure that any libraries you are using are current. If libraries have interdependencies, you might have to update them in a particular order.\nSee the <a href=\"https://update.angular.io/\">Angular Update Guide</a> for help.</p>\n<h2 id=\"adding-a-library-to-the-runtime-global-scope\">Adding a library to the runtime global scope<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/using-libraries#adding-a-library-to-the-runtime-global-scope\"><i class=\"material-icons\">link</i></a></h2>\n<p>Legacy JavaScript libraries that are not imported into an app can be added to the runtime global scope and loaded as if they were in a script tag.\nConfigure the CLI to do this at build time using the \"scripts\" and \"styles\" options of the build target in the <a href=\"guide/workspace-config\">CLI configuration file</a>, <code>angular.json</code>.</p>\n<p>For example, to use the <a href=\"https://getbootstrap.com/docs/4.0/getting-started/introduction/\">Bootstrap 4</a> library, first install the library and its dependencies using the npm package manager:</p>\n<code-example format=\".\" language=\"bash\">\nnpm install jquery --save\nnpm install popper.js --save\nnpm install bootstrap --save\n</code-example>\n<p>In the <code>angular.json</code> configuration file, add the associated script files to the \"scripts\" array:</p>\n<code-example>\n\"scripts\": [\n  \"node_modules/jquery/dist/jquery.slim.js\",\n  \"node_modules/popper.js/dist/umd/popper.js\",\n  \"node_modules/bootstrap/dist/js/bootstrap.js\"\n],\n</code-example>\n<p>Add the Bootstrap CSS file to the \"styles\" array:</p>\n<code-example>\n\"styles\": [\n  \"node_modules/bootstrap/dist/css/bootstrap.css\",\n  \"src/styles.css\"\n],\n</code-example>\n<p>Run or restart <code>ng serve</code> to see Bootstrap 4 working in your app.</p>\n<h3 id=\"using-runtime-global-libraries-inside-your-app\">Using runtime-global libraries inside your app<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/using-libraries#using-runtime-global-libraries-inside-your-app\"><i class=\"material-icons\">link</i></a></h3>\n<p>Once you import a library using the \"scripts\" array, you should <strong>not</strong> import it using an import statement in your TypeScript code (such as <code>import * as $ from 'jquery';</code>).\nIf you do, you'll end up with two different copies of the library: one imported as a global library, and one imported as a module.\nThis is especially bad for libraries with plugins, like JQuery, because each copy will have different plugins.</p>\n<p>Instead, download typings for your library (<code>npm install @types/jquery</code>) and follow the library installation steps. This gives you access to the global variables exposed by that library.</p>\n<h3 id=\"defining-typings-for-runtime-global-libraries\">Defining typings for runtime-global libraries<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/using-libraries#defining-typings-for-runtime-global-libraries\"><i class=\"material-icons\">link</i></a></h3>\n<p>If the global library you need to use does not have global typings, you can declare them manually as <code>any</code> in <code>src/typings.d.ts</code>. For example:</p>\n<code-example>\ndeclare var libraryName: any;\n</code-example>\n<p>Some scripts extend other libraries; for instance with JQuery plugins:</p>\n<code-example>\n$('.test').myPlugin();\n</code-example>\n<p>In this case, the installed <code>@types/jquery</code> doesn't include <code>myPlugin</code>, so you need to add an interface  in <code>src/typings.d.ts</code>. For example:</p>\n<code-example>\ninterface JQuery {\n  myPlugin(options?: any): any;\n}\n</code-example>\n<p>If don't add the interface for the script-defined extension, your IDE shows an error:</p>\n<code-example>\n[TS][<a href=\"api/core/MissingTranslationStrategy#Error\" class=\"code-anchor\">Error</a>] Property 'myPlugin' does not exist on type 'JQuery'\n</code-example>\n\n</div>\n\n<!-- links to this doc:\n - guide/libraries\n-->\n<!-- links from this doc:\n - api/core/Directive#host\n - api/core/Host\n - api/core/MissingTranslationStrategy#Error\n - api/forms/NgModel#update\n - cli/update\n - guide/npm-packages\n - guide/using-libraries#adding-a-library-to-the-runtime-global-scope\n - guide/using-libraries#defining-typings-for-runtime-global-libraries\n - guide/using-libraries#installing-libraries\n - guide/using-libraries#library-typings\n - guide/using-libraries#updating-libraries\n - guide/using-libraries#using-published-libraries\n - guide/using-libraries#using-runtime-global-libraries-inside-your-app\n - guide/workspace-config\n - https://angular.io/resources\n - https://getbootstrap.com/docs/4.0/getting-started/introduction/\n - https://github.com/angular/angular/edit/master/aio/content/guide/using-libraries.md?message=docs%3A%20describe%20your%20change...\n - https://material.angular.io/\n - https://update.angular.io/\n - https://yarnpkg.com/\n-->"
}